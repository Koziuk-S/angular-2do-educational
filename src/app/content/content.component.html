<section class="container app-content">
  <form class="new-todo"
        #newToDoForm="ngForm"
        (ngSubmit)="onSubmit()">
    <div class="form-group">
      <input class="form-control"
             placeholder="Todo title"
             name="title"
             type="text"
             #newToDoTitle="ngModel"
             [(ngModel)]="title"
             required
             [ngClass]="{
                'is-invalid': newToDoTitle.invalid && (newToDoTitle.dirty || newToDoTitle.touched),
                'is-valid': newToDoTitle.valid && (newToDoTitle.dirty || newToDoTitle.touched)
              }" />
    </div>

    <div class="form-group">
      <textarea class="form-control"
                rows="3"
                placeholder="Description"
                name="description"
                [(ngModel)]="description">
      </textarea>
    </div>

    <footer>
      <button class="btn btn-primary"
              type="submit"
              [disabled]="newToDoForm.invalid">
        Create
      </button>
    </footer>
  </form>

  <ul class="list-group list-group-flush todos-list">
    <li class="list-group-item todos-item"
        *ngFor="let item of todos">
      <header class="todo-header">
        <div class="d-flex">
          <i class="material-icons check-box"
             (click)="toggleTodo(item)">
            {{ item.done ? 'check_box' : 'check_box_outline_blank' }}
          </i>
          <h5 [ngClass]="{'isCompleted': item.done}">
            {{ item.title }}
          </h5>
        </div>

        <div class="todo-btn-group">
          <button class="btn btn-primary"
                  (click)="toggleDescription(item)"
                  [disabled]="!item.description">
            {{ item.isDescription ? 'hide' : 'show' }} deteils
          </button>

          <button class="btn btn-danger"
                  (click)="deleteTodo(item)">
            del
          </button>
        </div>
      </header>

      <div class="todo-description"
           *ngIf="item.isDescription">
        {{ item.description }}
      </div>
    </li>
  </ul>

  <div class="text-center"
       *ngIf="!todos.length">
    <p>Todo list is empty. Create your first todo.</p>
  </div>
</section>